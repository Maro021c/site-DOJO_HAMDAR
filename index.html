<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestão de Atletas - DOJO Hamdar</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo-container">
                <div class="logo-image">
                    <img src="logodjh.jpg" alt="Logo DOJO Hamdar" id="header-logo">
                </div>
                <div class="logo-text">DOJO Hamdar</div>
            </div>
            <nav>
                <ul>
                    <li><a href="#" id="nav-home">Início</a></li>
                    <li><a href="#" id="nav-register">Cadastrar</a></li>
                    <li><a href="#" id="nav-list">Atletas</a></li>
                    <li><a href="#" id="nav-events">Eventos</a></li>
                    <li><a href="#" id="nav-admin">Admin</a></li>
                    <li><a href="#" id="nav-login">Login</a></li>
                    <li><a href="#" id="nav-logout" class="hidden">Sair</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="container">
        <!-- Página de Login -->
        <div id="login-page" class="card login-form card-gold">
            <h2 class="page-title">Login</h2>
            <div id="login-alert" class="alert hidden"></div>
            <form id="login-form">
                <div class="form-group">
                    <label for="login-email">Email ou Usuário Admin</label>
                    <input type="text" id="login-email" required autocomplete="email">
                </div>
                <div class="form-group">
                    <label for="login-password">Senha</label>
                    <input type="password" id="login-password" required autocomplete="current-password">
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Entrar</button>
            </form>
            <p style="margin-top: 1rem; text-align: center;">
                Não tem conta? <a href="#" id="show-register">Cadastre-se</a>
            </p>
        </div>

        <!-- Página de Cadastro -->
        <div id="register-page" class="card card-gold hidden">
            <h2 class="page-title">Cadastrar Atleta</h2>
            <div id="register-alert" class="alert hidden"></div>
            <form id="register-form">
                <div class="form-group">
                    <label for="register-name">Nome Completo *</label>
                    <input type="text" id="register-name" required>
                </div>
                <div class="form-group">
                    <label for="register-email">Email *</label>
                    <input type="email" id="register-email" required autocomplete="email">
                </div>
                <div class="form-group">
                    <label for="register-password">Senha *</label>
                    <input type="password" id="register-password" required autocomplete="new-password">
                </div>
                <div class="form-group">
                    <label for="register-rg">RG (apenas números)</label>
                    <input type="text" id="register-rg" pattern="[0-9]*" inputmode="numeric">
                </div>
                <div class="form-group">
                    <label for="register-birthdate">Data de Nascimento *</label>
                    <input type="date" id="register-birthdate" required>
                </div>
                <div class="form-group">
                    <label for="register-instagram">Instagram</label>
                    <input type="text" id="register-instagram" placeholder="@usuario">
                </div>
                <div class="form-group">
                    <label for="register-facebook">Facebook</label>
                    <input type="text" id="register-facebook" placeholder="Nome no Facebook">
                </div>
                <div class="form-group">
                    <label for="register-tkd-belt">Faixa de Taekwondo *</label>
                    <select id="register-tkd-belt" required>
                        <option value="">Selecione</option>
                        <option value="white">Branca</option>
                        <option value="yellow">Amarela</option>
                        <option value="orange">Laranja</option>
                        <option value="green">Verde</option>
                        <option value="blue-light">Azul Claro</option>
                        <option value="blue-dark">Azul Escuro</option>
                        <option value="purple">Roxa</option>
                        <option value="red">Vermelha</option>
                        <option value="red-black">Vermelha Ponta Preta</option>
                        <option value="black">Preta</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="register-hpk-belt">Faixa de Hapkido *</label>
                    <select id="register-hpk-belt" required>
                        <option value="">Selecione</option>
                        <option value="white">Branca</option>
                        <option value="gray">Cinza</option>
                        <option value="yellow">Amarela</option>
                        <option value="orange">Laranja</option>
                        <option value="green">Verde</option>
                        <option value="blue">Azul</option>
                        <option value="brown">Marrom</option>
                        <option value="red">Vermelha</option>
                        <option value="red-black">Ponta Preta</option>
                        <option value="black">Preta</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="register-weight">Peso (kg) *</label>
                    <input type="number" id="register-weight" step="0.1" required>
                </div>
                <button type="submit" class="btn btn-primary">Cadastrar</button>
            </form>
        </div>

        <!-- Página Inicial (Dashboard) -->
        <div id="home-page" class="hidden">
            <h2 class="page-title">Dashboard</h2>
            <div id="home-alert" class="alert hidden"></div>
            
            <div id="user-dashboard" class="hidden">
                <div class="pending-approval hidden" id="pending-approval-message">
                    <p>Seu cadastro está aguardando aprovação do administrador. Você terá acesso completo ao sistema após a aprovação.</p>
                </div>
                
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>Meus Dados</h3>
                        <div id="user-data">
                            <!-- Dados do usuário serão carregados aqui -->
                        </div>
                        <div style="margin-top: 1rem;">
                            <button class="btn btn-primary" id="edit-profile-btn">Editar Meu Perfil</button>
                            <button class="btn btn-outline" id="change-photo-btn">Alterar Foto</button>
                        </div>
                    </div>
                    
                    <div class="dashboard-card">
                        <h3>Alterar Peso</h3>
                        <div class="form-group">
                            <label for="update-weight">Novo Peso (kg)</label>
                            <input type="number" id="update-weight" step="0.1">
                        </div>
                        <button class="btn btn-primary" id="update-weight-btn">Atualizar Peso</button>
                    </div>
                </div>
            </div>
            
            <div id="admin-dashboard" class="hidden">
                <div class="admin-actions">
                    <button class="btn btn-primary" id="add-athlete-btn">Adicionar Atleta Manualmente</button>
                    <button class="btn btn-danger" id="delete-all-btn">Excluir Todos os Atletas</button>
                </div>
                
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>Cadastros Pendentes</h3>
                        <div id="pending-athletes">
                            <!-- Atletas pendentes serão carregados aqui -->
                        </div>
                    </div>
                    
                    <div class="dashboard-card">
                        <h3>Lista Completa de Atletas</h3>
                        <div id="all-athletes-list">
                            <!-- Lista completa de atletas será carregada aqui -->
                        </div>
                    </div>
                    
                    <div class="dashboard-card">
                        <h3>Estatísticas</h3>
                        <div id="admin-stats">
                            <!-- Estatísticas serão carregadas aqui -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Página de Lista de Atletas -->
        <div id="list-page" class="hidden">
            <h2 class="page-title">Lista de Atletas</h2>
            <div id="list-alert" class="alert hidden"></div>
            
            <div class="card">
                <div class="table-container">
                    <table class="athlete-list">
                        <thead>
                            <tr>
                                <th>Nome</th>
                                <th>Email</th>
                                <th>Data Nasc.</th>
                                <th>RG</th>
                                <th>Faixa TKD</th>
                                <th>Faixa HPK</th>
                                <th>Peso (kg)</th>
                                <th>Status</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="athlete-table-body">
                            <!-- Os atletas serão inseridos aqui via JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Página de Eventos -->
        <div id="events-page" class="hidden">
            <h2 class="page-title">Gerenciar Eventos</h2>
            <div id="events-alert" class="alert hidden"></div>
            
            <div id="user-events" class="hidden">
                <div class="card">
                    <h3>Próximos Eventos</h3>
                    <div id="user-events-list">
                        <p>Nenhum evento agendado.</p>
                    </div>
                </div>
            </div>
            
            <div id="admin-events" class="hidden">
                <div class="admin-actions">
                    <button class="btn btn-primary" id="create-exam-btn">Criar Exame de Faixa</button>
                    <button class="btn btn-primary" id="create-event-btn">Criar Outro Evento</button>
                </div>
                
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>Eventos Ativos</h3>
                        <div id="active-events">
                            <!-- Eventos ativos serão carregados aqui -->
                        </div>
                    </div>
                    
                    <div class="dashboard-card">
                        <h3>Histórico de Eventos</h3>
                        <div id="events-history">
                            <!-- Histórico de eventos será carregado aqui -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Página de Administração -->
        <div id="admin-page" class="card card-gold hidden">
            <h2 class="page-title">Acesso Administrativo</h2>
            <div id="admin-alert" class="alert hidden"></div>
            <form id="admin-login-form">
                <div class="form-group">
                    <label for="admin-username">Usuário Administrador</label>
                    <input type="text" id="admin-username" required autocomplete="username">
                </div>
                <div class="form-group">
                    <label for="admin-password">Senha do Administrador</label>
                    <input type="password" id="admin-password" required autocomplete="current-password">
                </div>
                <button type="submit" class="btn btn-primary">Acessar como Admin</button>
            </form>
        </div>
    </div>

    <!-- Modal para adicionar atleta manualmente -->
    <div id="add-athlete-modal" class="modal-overlay">
        <div class="card modal-card">
            <h3 class="page-title">Adicionar Atleta</h3>
            <form id="add-athlete-form">
                <div class="form-group">
                    <label for="add-athlete-name">Nome Completo *</label>
                    <input type="text" id="add-athlete-name" required>
                </div>
                <div class="form-group">
                    <label for="add-athlete-email">Email *</label>
                    <input type="email" id="add-athlete-email" required>
                </div>
                <div class="form-group">
                    <label for="add-athlete-rg">RG (apenas números)</label>
                    <input type="text" id="add-athlete-rg" pattern="[0-9]*" inputmode="numeric">
                </div>
                <div class="form-group">
                    <label for="add-athlete-birthdate">Data de Nascimento *</label>
                    <input type="date" id="add-athlete-birthdate" required>
                </div>
                <div class="form-group">
                    <label for="add-athlete-instagram">Instagram</label>
                    <input type="text" id="add-athlete-instagram" placeholder="@usuario">
                </div>
                <div class="form-group">
                    <label for="add-athlete-facebook">Facebook</label>
                    <input type="text" id="add-athlete-facebook" placeholder="Nome no Facebook">
                </div>
                <div class="form-group">
                    <label for="add-athlete-tkd-belt">Faixa de Taekwondo *</label>
                    <select id="add-athlete-tkd-belt" required>
                        <option value="">Selecione</option>
                        <option value="white">Branca</option>
                        <option value="yellow">Amarela</option>
                        <option value="orange">Laranja</option>
                        <option value="green">Verde</option>
                        <option value="blue-light">Azul Claro</option>
                        <option value="blue-dark">Azul Escuro</option>
                        <option value="purple">Roxa</option>
                        <option value="red">Vermelha</option>
                        <option value="red-black">Vermelha Ponta Preta</option>
                        <option value="black">Preta</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="add-athlete-hpk-belt">Faixa de Hapkido *</label>
                    <select id="add-athlete-hpk-belt" required>
                        <option value="">Selecione</option>
                        <option value="white">Branca</option>
                        <option value="gray">Cinza</option>
                        <option value="yellow">Amarela</option>
                        <option value="orange">Laranja</option>
                        <option value="green">Verde</option>
                        <option value="blue">Azul</option>
                        <option value="brown">Marrom</option>
                        <option value="red">Vermelha</option>
                        <option value="red-black">Ponta Preta</option>
                        <option value="black">Preta</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="add-athlete-weight">Peso (kg) *</label>
                    <input type="number" id="add-athlete-weight" step="0.1" required>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary">Adicionar Atleta</button>
                    <button type="button" class="btn btn-outline" id="cancel-add-athlete">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para editar perfil -->
    <div id="edit-profile-modal" class="modal-overlay">
        <div class="card modal-card">
            <h3 class="page-title">Editar Perfil</h3>
            <form id="edit-profile-form">
                <div class="form-group">
                    <label for="edit-profile-name">Nome Completo *</label>
                    <input type="text" id="edit-profile-name" required>
                </div>
                <div class="form-group">
                    <label for="edit-profile-email">Email *</label>
                    <input type="email" id="edit-profile-email" required>
                </div>
                <div class="form-group">
                    <label for="edit-profile-rg">RG (apenas números)</label>
                    <input type="text" id="edit-profile-rg" pattern="[0-9]*" inputmode="numeric">
                </div>
                <div class="form-group">
                    <label for="edit-profile-birthdate">Data de Nascimento *</label>
                    <input type="date" id="edit-profile-birthdate" required>
                </div>
                <div class="form-group">
                    <label for="edit-profile-instagram">Instagram</label>
                    <input type="text" id="edit-profile-instagram" placeholder="@usuario">
                </div>
                <div class="form-group">
                    <label for="edit-profile-facebook">Facebook</label>
                    <input type="text" id="edit-profile-facebook" placeholder="Nome no Facebook">
                </div>
                <div class="form-group">
                    <label for="edit-profile-tkd-belt">Faixa de Taekwondo *</label>
                    <select id="edit-profile-tkd-belt" required>
                        <option value="">Selecione</option>
                        <option value="white">Branca</option>
                        <option value="yellow">Amarela</option>
                        <option value="orange">Laranja</option>
                        <option value="green">Verde</option>
                        <option value="blue-light">Azul Claro</option>
                        <option value="blue-dark">Azul Escuro</option>
                        <option value="purple">Roxa</option>
                        <option value="red">Vermelha</option>
                        <option value="red-black">Vermelha Ponta Preta</option>
                        <option value="black">Preta</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="edit-profile-hpk-belt">Faixa de Hapkido *</label>
                    <select id="edit-profile-hpk-belt" required>
                        <option value="">Selecione</option>
                        <option value="white">Branca</option>
                        <option value="gray">Cinza</option>
                        <option value="yellow">Amarela</option>
                        <option value="orange">Laranja</option>
                        <option value="green">Verde</option>
                        <option value="blue">Azul</option>
                        <option value="brown">Marrom</option>
                        <option value="red">Vermelha</option>
                        <option value="red-black">Ponta Preta</option>
                        <option value="black">Preta</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="edit-profile-weight">Peso (kg) *</label>
                    <input type="number" id="edit-profile-weight" step="0.1" required>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary">Salvar Alterações</button>
                    <button type="button" class="btn btn-outline" id="cancel-edit-profile">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para alterar foto -->
    <div id="change-photo-modal" class="modal-overlay">
        <div class="card modal-card">
            <h3 class="page-title">Alterar Foto de Perfil</h3>
            <div id="current-photo-container" style="text-align: center; margin-bottom: 1rem;">
                <img id="current-photo-preview" src="" alt="Foto atual" style="max-width: 150px; max-height: 150px; border-radius: 8px;">
            </div>
            <form id="change-photo-form">
                <div class="form-group">
                    <label for="photo-upload">Escolher nova foto</label>
                    <input type="file" id="photo-upload" accept="image/*">
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary">Salvar Foto</button>
                    <button type="button" class="btn btn-outline" id="cancel-change-photo">Cancelar</button>
                    <button type="button" class="btn btn-danger" id="remove-photo">Remover Foto</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para editar atleta (admin) -->
    <div id="edit-athlete-modal" class="modal-overlay">
        <div class="card modal-card">
            <h3 class="page-title">Editar Atleta</h3>
            <form id="edit-athlete-form">
                <input type="hidden" id="edit-athlete-id">
                <div class="form-group">
                    <label for="edit-athlete-name">Nome Completo *</label>
                    <input type="text" id="edit-athlete-name" required>
                </div>
                <div class="form-group">
                    <label for="edit-athlete-email">Email *</label>
                    <input type="email" id="edit-athlete-email" required>
                </div>
                <div class="form-group">
                    <label for="edit-athlete-password">Nova Senha (deixe em branco para manter a atual)</label>
                    <input type="password" id="edit-athlete-password">
                </div>
                <div class="form-group">
                    <label for="edit-athlete-rg">RG (apenas números)</label>
                    <input type="text" id="edit-athlete-rg" pattern="[0-9]*" inputmode="numeric">
                </div>
                <div class="form-group">
                    <label for="edit-athlete-birthdate">Data de Nascimento *</label>
                    <input type="date" id="edit-athlete-birthdate" required>
                </div>
                <div class="form-group">
                    <label for="edit-athlete-instagram">Instagram</label>
                    <input type="text" id="edit-athlete-instagram" placeholder="@usuario">
                </div>
                <div class="form-group">
                    <label for="edit-athlete-facebook">Facebook</label>
                    <input type="text" id="edit-athlete-facebook" placeholder="Nome no Facebook">
                </div>
                <div class="form-group">
                    <label for="edit-athlete-tkd-belt">Faixa de Taekwondo *</label>
                    <select id="edit-athlete-tkd-belt" required>
                        <option value="">Selecione</option>
                        <option value="white">Branca</option>
                        <option value="yellow">Amarela</option>
                        <option value="orange">Laranja</option>
                        <option value="green">Verde</option>
                        <option value="blue-light">Azul Claro</option>
                        <option value="blue-dark">Azul Escuro</option>
                        <option value="purple">Roxa</option>
                        <option value="red">Vermelha</option>
                        <option value="red-black">Vermelha Ponta Preta</option>
                        <option value="black">Preta</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="edit-athlete-hpk-belt">Faixa de Hapkido *</label>
                    <select id="edit-athlete-hpk-belt" required>
                        <option value="">Selecione</option>
                        <option value="white">Branca</option>
                        <option value="gray">Cinza</option>
                        <option value="yellow">Amarela</option>
                        <option value="orange">Laranja</option>
                        <option value="green">Verde</option>
                        <option value="blue">Azul</option>
                        <option value="brown">Marrom</option>
                        <option value="red">Vermelha</option>
                        <option value="red-black">Ponta Preta</option>
                        <option value="black">Preta</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="edit-athlete-weight">Peso (kg) *</label>
                    <input type="number" id="edit-athlete-weight" step="0.1" required>
                </div>
                <div class="form-group">
                    <label for="edit-athlete-status">Status *</label>
                    <select id="edit-athlete-status" required>
                        <option value="pending">Pendente</option>
                        <option value="approved">Aprovado</option>
                    </select>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary">Salvar Alterações</button>
                    <button type="button" class="btn btn-outline" id="cancel-edit-athlete">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para criar exame de faixa -->
    <div id="create-exam-modal" class="modal-overlay">
        <div class="card modal-card">
            <h3 class="page-title">Criar Exame de Faixa</h3>
            <form id="create-exam-form">
                <div class="form-group">
                    <label for="exam-name">Nome do Exame</label>
                    <input type="text" id="exam-name" required placeholder="Ex: Exame de Faixa - Dezembro 2024">
                </div>
                <div class="form-group">
                    <label for="exam-date">Data do Exame</label>
                    <input type="date" id="exam-date" required>
                </div>
                <div class="form-group">
                    <label for="exam-type">Tipo de Exame</label>
                    <select id="exam-type" required>
                        <option value="">Selecione</option>
                        <option value="tkd">Taekwondo</option>
                        <option value="hpk">Hapkido</option>
                        <option value="both">Ambos</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Atletas Participantes</label>
                    <div id="exam-athletes-list" class="athletes-checklist">
                        <!-- Lista de atletas com checkbox -->
                    </div>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary">Criar Exame</button>
                    <button type="button" class="btn btn-outline" id="cancel-create-exam">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para criar outros eventos -->
    <div id="create-event-modal" class="modal-overlay">
        <div class="card modal-card">
            <h3 class="page-title">Criar Evento</h3>
            <form id="create-event-form">
                <div class="form-group">
                    <label for="event-type">Tipo de Evento</label>
                    <select id="event-type" required>
                        <option value="">Selecione</option>
                        <option value="seminar">Seminário</option>
                        <option value="championship">Campeonato</option>
                        <option value="training">Treinamento</option>
                        <option value="other">Outro</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="event-name">Nome do Evento</label>
                    <input type="text" id="event-name" required placeholder="Ex: Seminário de Defesa Pessoal">
                </div>
                <div class="form-group">
                    <label for="event-date">Data do Evento</label>
                    <input type="date" id="event-date" required>
                </div>
                <div class="form-group">
                    <label for="event-description">Descrição</label>
                    <textarea id="event-description" rows="3" placeholder="Descrição do evento..."></textarea>
                </div>
                <div class="form-group">
                    <label>Participantes</label>
                    <div id="event-athletes-list" class="athletes-checklist">
                        <!-- Lista de atletas com checkbox -->
                    </div>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary">Criar Evento</button>
                    <button type="button" class="btn btn-outline" id="cancel-create-event">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para gerenciar exame -->
    <div id="manage-exam-modal" class="modal-overlay">
        <div class="card modal-card">
            <h3 class="page-title" id="manage-exam-title">Gerenciar Exame</h3>
            <div id="manage-exam-content">
                <!-- Conteúdo será carregado dinamicamente -->
            </div>
            <div class="form-group" style="margin-top: 1rem;">
                <button type="button" class="btn btn-outline" id="close-manage-exam">Fechar</button>
            </div>
        </div>
    </div>

    <!-- Modal para gerenciar evento -->
    <div id="manage-event-modal" class="modal-overlay">
        <div class="card modal-card">
            <h3 class="page-title" id="manage-event-title">Gerenciar Evento</h3>
            <div id="manage-event-content">
                <!-- Conteúdo será carregado dinamicamente -->
            </div>
            <div class="form-group" style="margin-top: 1rem;">
                <button type="button" class="btn btn-outline" id="close-manage-event">Fechar</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>